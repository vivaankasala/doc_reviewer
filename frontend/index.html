<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SafeDoc ‚Äî Review Before You Sign</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="app">
    <header class="header">
      <div class="header-inner">
        <button type="button" class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
          <svg class="theme-icon sun" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg>
          <svg class="theme-icon moon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
        </button>
        <h1 class="logo">SafeDoc</h1>
        <p class="tagline">Review documents before you sign ‚Äî understand risks, get summaries</p>
      </div>
    </header>

    <main class="main">
      <section class="upload-section" id="uploadSection">
        <div class="upload-card">
          <div class="input-tabs">
            <button type="button" class="tab-btn active" data-tab="upload">Upload file</button>
            <button type="button" class="tab-btn" data-tab="paste">Paste text</button>
          </div>
          <div class="upload-panel active" id="uploadPanel">
            <div class="upload-zone" id="uploadZone">
              <div class="upload-content">
                <div class="upload-icon">
                  <svg width="44" height="52" viewBox="0 0 44 52" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M26 2H6a2 2 0 0 0-2 2v44a2 2 0 0 0 2 2h32a2 2 0 0 0 2-2V18L26 2z"/>
                    <path d="M26 2v16h16"/>
                    <path d="M12 28h20M12 36h14"/>
                  </svg>
                </div>
                <p class="upload-title">Drop your document here</p>
                <p class="upload-subtitle">or click to browse</p>
                <p class="upload-formats">PDF ¬∑ Word ¬∑ PNG ¬∑ JPG ¬∑ TIFF</p>
                <input type="file" id="fileInput" accept=".pdf,.docx,.png,.jpg,.jpeg,.tiff,.bmp" hidden>
              </div>
            </div>
          </div>
          <div class="paste-panel" id="pastePanel">
            <textarea id="pasteTextarea" placeholder="Paste contract text, terms, or any document content to analyze‚Ä¶" rows="10"></textarea>
            <button type="button" class="btn btn-primary btn-block" id="analyzePasteBtn">Analyze</button>
          </div>
        </div>
        <div class="upload-features">
          <span class="feature">AI summary</span>
          <span class="feature">Risk flags</span>
          <span class="feature">Export</span>
        </div>
      </section>

      <section class="loading-section hidden" id="loadingSection">
        <div class="loading-content">
          <div class="loader-wrapper">
            <div class="loader"></div>
            <div class="loader-ring"></div>
          </div>
          <p class="loading-text">Analyzing your document‚Ä¶</p>
          <div class="loading-steps">
            <div class="loading-step"><span class="step-dot"></span> Extracting text</div>
            <div class="loading-step"><span class="step-dot"></span> AI analysis in progress</div>
            <div class="loading-step"><span class="step-dot"></span> Identifying risks</div>
          </div>
        </div>
      </section>

      <section class="results-section hidden" id="resultsSection">
        <div class="results-header">
          <div class="results-title-row">
            <h2 id="resultFilename">Document Summary</h2>
            <div class="header-actions">
              <button type="button" class="btn btn-icon" id="printBtn" title="Print">Print</button>
              <button type="button" class="btn btn-secondary" id="exportBtn">Export</button>
            </div>
          </div>
          <div class="stats-bar" id="statsBar">
            <div class="stat"><span class="stat-value" id="statWords">‚Äî</span> words</div>
            <div class="stat"><span class="stat-value" id="statType">‚Äî</span> type</div>
            <div class="stat"><span class="stat-value stat-risk" id="statRisks">‚Äî</span> risks</div>
          </div>
        </div>

        <div class="results-grid">
          <aside class="results-sidebar">
            <div class="score-card" id="scoreCard">
              <h3>Safety Score</h3>
              <div class="score-gauge-wrapper">
                <div class="score-gauge" id="scoreGauge">
                  <svg class="score-svg" viewBox="0 0 120 120">
                    <circle class="score-bg" cx="60" cy="60" r="52"/>
                    <circle class="score-fill" id="scoreGaugeFill" cx="60" cy="60" r="52"/>
                  </svg>
                  <div class="score-gauge-center">
                    <span class="score-value" id="scoreValue">‚Äî</span>
                    <span class="score-max">/100</span>
                  </div>
                </div>
                <p class="score-label" id="scoreLabel">Review score</p>
              </div>
            </div>

            <div class="risk-filter-card" id="riskFilterCard">
              <h3>Filter risks</h3>
              <div class="risk-filters">
                <label class="filter-check"><input type="checkbox" id="filterHigh" checked> <span class="badge risk-high">High</span></label>
                <label class="filter-check"><input type="checkbox" id="filterMedium" checked> <span class="badge risk-medium">Medium</span></label>
                <label class="filter-check"><input type="checkbox" id="filterLow" checked> <span class="badge risk-low">Low</span></label>
              </div>
            </div>
          </aside>

          <div class="results-main">
            <div class="card collapsible open" id="documentCard">
              <div class="card-header">
                <h3>üìÑ Full document <span class="document-hint">(flagged clauses highlighted)</span></h3>
                <div class="card-actions">
                  <input type="search" class="search-input" id="docSearch" placeholder="Search‚Ä¶" autocomplete="off">
                  <button type="button" class="collapse-btn" data-target="documentCard" aria-label="Collapse">‚ñº</button>
                </div>
              </div>
              <div class="card-body">
                <div class="document-text" id="documentText"></div>
              </div>
            </div>

            <div class="card collapsible open" id="summaryCard">
              <div class="card-header">
                <h3>Key Points</h3>
                <button type="button" class="collapse-btn" data-target="summaryCard" aria-label="Collapse">‚ñº</button>
              </div>
              <div class="card-body">
                <ul id="summaryList" class="summary-list"></ul>
                <p id="documentType" class="document-type"></p>
              </div>
            </div>

            <div class="card collapsible open" id="questionsCard">
              <div class="card-header">
                <h3>Questions to Ask Before Signing</h3>
                <button type="button" class="collapse-btn" data-target="questionsCard" aria-label="Collapse">‚ñº</button>
              </div>
              <div class="card-body">
                <ul id="questionsList" class="questions-list"></ul>
              </div>
            </div>

            <div class="card collapsible open" id="risksCard">
              <div class="card-header">
                <h3 id="risksHeading">‚ö†Ô∏è Flagged Risks</h3>
                <button type="button" class="collapse-btn" data-target="risksCard" aria-label="Collapse">‚ñº</button>
              </div>
              <div class="card-body">
                <div id="risksList" class="risks-list"></div>
              </div>
            </div>
          </div>
        </div>

        <button type="button" class="btn btn-primary btn-block" id="newDocBtn">Analyze Another Document</button>
      </section>

      <section class="error-section hidden" id="errorSection">
        <div class="error-content">
          <p id="errorMessage"></p>
          <button type="button" class="btn btn-primary" id="retryBtn">Try Again</button>
        </div>
      </section>
    </main>

    <div class="toast-container" id="toastContainer"></div>

    <footer class="footer">
      <p>For contracts, NDAs, leases & more ‚Äî review with confidence</p>
    </footer>
  </div>

  <script src="app.js"></script>
</body>
</html>
